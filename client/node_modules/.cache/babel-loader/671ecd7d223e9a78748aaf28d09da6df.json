{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/node_modules/@babel/runtime/helpers/createClass\");\n\nvar ValidityState = require(\"../generated/ValidityState\");\n\nvar _require = require(\"../helpers/form-controls\"),\n    isDisabled = _require.isDisabled;\n\nvar _require2 = require(\"../helpers/traversal\"),\n    closest = _require2.closest;\n\nvar _require3 = require(\"../helpers/events\"),\n    fireAnEvent = _require3.fireAnEvent;\n\nexports.implementation = /*#__PURE__*/function () {\n  function DefaultConstraintValidationImpl() {\n    _classCallCheck(this, DefaultConstraintValidationImpl);\n  }\n\n  _createClass(DefaultConstraintValidationImpl, [{\n    key: \"willValidate\",\n    get: // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-willvalidate\n    function get() {\n      return this._isCandidateForConstraintValidation();\n    }\n  }, {\n    key: \"validity\",\n    get: function get() {\n      if (!this._validity) {\n        this._validity = ValidityState.createImpl(this._globalObject, [], {\n          element: this\n        });\n      }\n\n      return this._validity;\n    } // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-checkvalidity\n\n  }, {\n    key: \"checkValidity\",\n    value: function checkValidity() {\n      if (!this._isCandidateForConstraintValidation()) {\n        return true;\n      }\n\n      if (this._satisfiesConstraints()) {\n        return true;\n      }\n\n      fireAnEvent(\"invalid\", this, undefined, {\n        cancelable: true\n      });\n      return false;\n    } // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-setcustomvalidity\n\n  }, {\n    key: \"setCustomValidity\",\n    value: function setCustomValidity(message) {\n      this._customValidityErrorMessage = message;\n    } // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-reportvalidity\n    // Since jsdom has no user interaction, it's the same as #checkValidity\n\n  }, {\n    key: \"reportValidity\",\n    value: function reportValidity() {\n      return this.checkValidity();\n    } // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-validationmessage\n\n  }, {\n    key: \"validationMessage\",\n    get: function get() {\n      var validity = this.validity;\n\n      if (!this._isCandidateForConstraintValidation() || this._satisfiesConstraints()) {\n        return \"\";\n      }\n\n      var isSufferingFromCustomError = validity.customError;\n\n      if (isSufferingFromCustomError) {\n        return this._customValidityErrorMessage;\n      }\n\n      return \"Constraints not satisfied\";\n    }\n  }, {\n    key: \"_isCandidateForConstraintValidation\",\n    value: function _isCandidateForConstraintValidation() {\n      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fe-disabled\n      return !isDisabled(this) && // If an element has a datalist element ancestor,\n      // it is barred from constraint validation.\n      closest(this, \"datalist\") === null && !this._barredFromConstraintValidationSpecialization();\n    }\n  }, {\n    key: \"_isBarredFromConstraintValidation\",\n    value: function _isBarredFromConstraintValidation() {\n      return !this._isCandidateForConstraintValidation();\n    }\n  }, {\n    key: \"_satisfiesConstraints\",\n    value: function _satisfiesConstraints() {\n      return this.validity.valid;\n    }\n  }]);\n\n  return DefaultConstraintValidationImpl;\n}();","map":null,"metadata":{},"sourceType":"script"}