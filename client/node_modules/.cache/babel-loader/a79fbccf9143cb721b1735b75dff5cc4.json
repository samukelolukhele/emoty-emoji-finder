{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Emoji = exports.Parser = exports.EmojiAPI = void 0;\n\nvar Parser_1 = require(\"./Parser\");\n\nObject.defineProperty(exports, \"Parser\", {\n  enumerable: true,\n  get: function get() {\n    return Parser_1.Parser;\n  }\n});\n\nvar Emoji_1 = require(\"./Emoji\");\n\nObject.defineProperty(exports, \"Emoji\", {\n  enumerable: true,\n  get: function get() {\n    return Emoji_1.Emoji;\n  }\n});\n\nvar Singleton_1 = require(\"./decorators/Singleton\");\n\nvar Collection_1 = __importDefault(require(\"./Collection\"));\n\nvar EmojiAPI = /*#__PURE__*/function () {\n  function EmojiAPI() {\n    _classCallCheck(this, EmojiAPI);\n\n    this.cache = new Collection_1.default();\n  }\n\n  _createClass(EmojiAPI, [{\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(emoji) {\n        var force,\n            cached,\n            basicInfo,\n            em,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                force = _args.length > 1 && _args[1] !== undefined ? _args[1] : false;\n\n                if (force) {\n                  _context.next = 5;\n                  break;\n                }\n\n                cached = this.cache.findOne(emoji);\n\n                if (!cached) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", cached);\n\n              case 5:\n                _context.next = 7;\n                return this.getBasicInfo(emoji);\n\n              case 7:\n                basicInfo = _context.sent;\n\n                if (basicInfo) {\n                  _context.next = 10;\n                  break;\n                }\n\n                throw new Error(\"Emoji not found!\");\n\n              case 10:\n                em = new Emoji_1.Emoji(basicInfo);\n                this.cache.set(emoji, em);\n                return _context.abrupt(\"return\", em);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get(_x) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"getBasicInfo\",\n    value: function () {\n      var _getBasicInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(emoji) {\n        var raw, basicInfo;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return Parser_1.Parser.getHTML(emoji);\n\n              case 3:\n                raw = _context2.sent;\n\n                if (raw) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", null);\n\n              case 6:\n                basicInfo = Parser_1.Parser.fetchData(raw);\n                return _context2.abrupt(\"return\", basicInfo);\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                return _context2.abrupt(\"return\", null);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 10]]);\n      }));\n\n      function getBasicInfo(_x2) {\n        return _getBasicInfo.apply(this, arguments);\n      }\n\n      return getBasicInfo;\n    }()\n  }, {\n    key: \"EmojiToUnicode\",\n    value: function EmojiToUnicode(emoji) {\n      return Parser_1.Parser.emojiUnicode(emoji);\n    }\n  }, {\n    key: \"UnicodeToEmoji\",\n    value: function UnicodeToEmoji(unicode) {\n      return String.fromCodePoint(parseInt(unicode, 16));\n    }\n  }]);\n\n  return EmojiAPI;\n}();\n\nEmojiAPI = __decorate([Singleton_1.singleton], EmojiAPI);\nexports.EmojiAPI = EmojiAPI;\nexports.default = EmojiAPI;","map":null,"metadata":{},"sourceType":"script"}