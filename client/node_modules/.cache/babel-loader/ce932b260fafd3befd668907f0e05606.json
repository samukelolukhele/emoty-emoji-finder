{"ast":null,"code":"import _regeneratorRuntime from\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import emojipedia from\"../../emojipedia\";export var ApiContext=React.createContext();export var ApiProvider=function ApiProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];function getData(_x){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(query){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);setError(false);_context.next=4;return axios.get(query).then(function(response){setData(response.data);if(emojipedia.filter(function(e){return e.emoji===response.data.emoji;}).length>0)return;if(emojipedia.length>=6){emojipedia.push(response.data);emojipedia.shift();console.log(emojipedia,'Limit reached');}else{emojipedia.push(response.data);console.log(emojipedia);}}).catch(function(err){return setError(true);});case 4:setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}return/*#__PURE__*/React.createElement(ApiContext.Provider,{value:{getData:getData,data:data,loading:loading,setLoading:setLoading,error:error,setError:setError}},children);};","map":{"version":3,"sources":["/Users/samukelolukhele/Desktop/Documents/Udemy Work & Notes/Web Development - App Brewery/ReactJS/React Emojipedia Project/client/src/components/context/ApiContext.js"],"names":["React","useState","axios","emojipedia","ApiContext","createContext","ApiProvider","children","data","setData","loading","setLoading","error","setError","getData","query","get","then","response","filter","e","emoji","length","push","shift","console","log","catch","err"],"mappings":"ynBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAGJ,KAAK,CAACK,aAAN,EAAnB,CAEP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAC3C,cAAwBN,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAA8BR,QAAQ,CAAC,KAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAA0BV,QAAQ,CAAC,KAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eAH2C,QAI5BC,CAAAA,OAJ4B,iIAI3C,iBAAuBC,KAAvB,kHACEJ,UAAU,CAAC,IAAD,CAAV,CACAE,QAAQ,CAAC,KAAD,CAAR,CAFF,sBAGQX,CAAAA,KAAK,CACRc,GADG,CACCD,KADD,EAEHE,IAFG,CAEE,SAACC,QAAD,CAAc,CAClBT,OAAO,CAACS,QAAQ,CAACV,IAAV,CAAP,CACA,GAAGL,UAAU,CAACgB,MAAX,CAAkB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAF,GAAYH,QAAQ,CAACV,IAAT,CAAca,KAA9B,EAAnB,EAAwDC,MAAxD,CAAiE,CAApE,CAAuE,OAEvE,GAAGnB,UAAU,CAACmB,MAAX,EAAqB,CAAxB,CAA0B,CACxBnB,UAAU,CAACoB,IAAX,CAAgBL,QAAQ,CAACV,IAAzB,EACAL,UAAU,CAACqB,KAAX,GACAC,OAAO,CAACC,GAAR,CAAYvB,UAAZ,CAAwB,eAAxB,EACD,CAJD,IAIK,CACHA,UAAU,CAACoB,IAAX,CAAgBL,QAAQ,CAACV,IAAzB,EACAiB,OAAO,CAACC,GAAR,CAAYvB,UAAZ,EACD,CAGF,CAhBG,EAiBHwB,KAjBG,CAiBG,SAACC,GAAD,QAASf,CAAAA,QAAQ,CAAC,IAAD,CAAjB,EAjBH,CAHR,QAqBEF,UAAU,CAAC,KAAD,CAAV,CArBF,sDAJ2C,0CA4B3C,mBACE,oBAAC,UAAD,CAAY,QAAZ,EACE,KAAK,CAAE,CACLG,OAAO,CAAPA,OADK,CAELN,IAAI,CAAJA,IAFK,CAGLE,OAAO,CAAPA,OAHK,CAILC,UAAU,CAAVA,UAJK,CAKLC,KAAK,CAALA,KALK,CAMLC,QAAQ,CAARA,QANK,CADT,EAUGN,QAVH,CADF,CAcD,CA1CM","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport emojipedia from \"../../emojipedia\";\n\nexport const ApiContext = React.createContext();\n\nexport const ApiProvider = ({ children }) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  async function getData(query) {\n    setLoading(true);\n    setError(false);\n    await axios\n      .get(query)\n      .then((response) => {\n        setData(response.data);\n        if(emojipedia.filter(e => e.emoji === response.data.emoji).length > 0) return\n\n        if(emojipedia.length >= 6){\n          emojipedia.push(response.data)\n          emojipedia.shift();\n          console.log(emojipedia, 'Limit reached')\n        }else{\n          emojipedia.push(response.data)\n          console.log(emojipedia)\n        }\n\n\n      })\n      .catch((err) => setError(true));\n    setLoading(false);\n  }\n\n  return (\n    <ApiContext.Provider\n      value={{\n        getData,\n        data,\n        loading,\n        setLoading,\n        error,\n        setError,\n      }}\n    >\n      {children}\n    </ApiContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}